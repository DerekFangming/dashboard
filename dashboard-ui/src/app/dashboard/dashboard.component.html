<div class="container-fluid">
  <div class="row">
    <div class="col-3 server-status border" [ngClass] = "connected ? 'bg-green' : 'bg-red'">

      <div class="row">
        <div class="col">
          <div class="card my-2 border-0 bg-transparent">
            <div class="row no-gutters">
              <div class="col-auto">
                <img src="https://img.icons8.com/external-xnimrodx-lineal-xnimrodx/64/000000/external-server-online-marketing-xnimrodx-lineal-xnimrodx-2.png"/>
              </div>
              <div class="col">
                <div class="card-block">
                  <p *ngIf="!server && connected" class="lead mb-0">Connected</p>
                  <p *ngIf="server && connected" class="lead mb-0">CPU: {{server.cpu.toFixed(2)}} %</p>
                  <p *ngIf="server && connected" class="lead mb-0">MEM: {{server.mem.toFixed(2)}} %</p>
                  <p *ngIf="!connected" class="lead mb-0">Disconnected</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col border" [ngClass] = "!myq ? 'bg-green' : myq.state == 'closed' ? 'bg-green' : (myq.state == 'closing' || myq.state == 'opening') ? 'bg-yellow' : 'bg-red'">
          <div class="card my-2 border-0 bg-transparent">
            <div class="row no-gutters">
              <div class="col-auto">
                <img src="https://img.icons8.com/wired/64/000000/garage-door.png"/>
              </div>
              <div class="col">
                <div class="card-block">
                  <p *ngIf="!myq" class="lead mb-0">Closed</p>
                  <p *ngIf="myq && myq.state == 'open'" class="lead mb-0">
                    Open<br /><small>Since {{ readableDate(myq.since) }}</small>
                  </p>
                  <p *ngIf="myq && myq.state != 'open'" class="lead mb-0">
                    {{ capitalize(myq.state) }}
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col border" [ngClass] = "!alexa ? 'bg-green' : alexa.door == 'locked' ? 'bg-green' : alexa.door == 'unlocked' ? 'bg-yellow' : 'bg-red'">
          <div class="card my-2 border-0 bg-transparent">
            <div class="row no-gutters">
              <div class="col-auto">
                <img src="https://img.icons8.com/ios/64/null/door-opened.png"/>
              </div>
              <div class="col">
                <div class="card-block">
                  <p *ngIf="!alexa" class="lead mb-0">Unknown</p>
                  <p *ngIf="alexa" class="lead mb-0">{{ capitalize(alexa.door) }}</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col border pr-0" style="background-color: #c3e6cb;">
          <div class="card miner-status my-2 border-0 bg-transparent">
            <div class="row no-gutters">
              <div class="col-auto">
                <img src="https://img.icons8.com/ios/64/null/quote-right.png"/>
              </div>
              <div class="col">
                <div class="card-block">
                  <p class="display-2 mb-0">{{ scholar == null ? 'NaN' : scholar.citation }}</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <div class="card my-2 border-0 bg-transparent">
            <div class="row no-gutters">
              <div class="col-auto">
                <img src="https://img.icons8.com/dotty/64/000000/hashtag-2.png"/>
              </div>
              <div class="col">
                <div class="card-block">
                  <p class="lead mb-0">Witnesses: {{ heliumWitnesses }}</p>
                  <p class="lead mb-0">Rewards: {{ heliumRewards }}</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- <div class="col-9 bg-green">
      <canvas id="camera" style="height:430px;margin-left: -8px;" (click)="liveStreamClicked()"></canvas>
    </div> -->
    <div class="px-0" [ngClass]="focusLiveStream ? 'px-0' : 'col-9 bg-green'" [ngStyle]="focusLiveStream ? {'position':'absolute', 'z-index':'10'} : {}">
      <canvas id="camera" style="height:580px;margin-left: -8px;" [ngStyle]="{'height': focusLiveStream ? '580px' : '435px' }" (click)="liveStreamClicked()"></canvas>
    </div>
  </div>

  <!-- Weather -->
  <div class="row">
    <div class="col border px-0 bg-green">
      <div class="card border-0 bg-transparent">
        <div class="row no-gutters">
          <div class="col">
            <div class="card-block">
              <div class="row me-1" *ngIf="weather">
                <div class="col py-2 px-1 text-center" *ngFor="let w of weather" [ngClass]="(w.temp <= 3 || w.wind >= 15) ? 'bg-yellow' : 'bg-green'">
                  <p class="mb-0">{{ w.time }}</p><img [src]="'https://openweathermap.org/img/wn/' + w.icon + '.png'"/>
                  <p class="mb-0">{{w.temp}} Â°C</p><p class="mb-0">{{w.wind}} MPH</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Stock status -->
  <div class="row">
    <div class="col-3 voo-status border" [ngClass] = "stock ? getStockStyle(stock.voo.dp) : ' bg-green'">
      <div class="card voo-status my-2 border-0 bg-transparent">
        <div class="row no-gutters">
          <div class="col-auto">
            <img src="https://img.icons8.com/ios/64/000000/combo-chart--v1.png"/>
          </div>
          <div class="col">
            <div class="card-block">
              <p class="card-text mb-0 lead"><span class="me-2"><b>S&P 500</b></span></p>
              <p class="lead mb-0" *ngIf="stock">$ {{ stock.voo.c }}<br />
                <small> {{stock.voo.d}} <small>( {{stock.voo.dp}} %)</small></small>
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-3 sail-status border" [ngClass] = "stock ? getStockStyle(stock.sail.dp) : ' bg-green'">
      <div class="card sail-status my-2 border-0 bg-transparent">
        <div class="row no-gutters">
          <div class="col-auto">
            <img src="https://img.icons8.com/dotty/64/000000/sailing-ship-medium.png"/>
          </div>
          <div class="col">
            <div class="card-block">
              <p class="card-text mb-0 lead"><span class="me-2"><b>SailPoint</b></span></p>
              <p class="lead mb-0" *ngIf="stock">$ {{ stock.sail.c }}<br />
                <small> {{stock.sail.d}} <small>( {{stock.sail.dp}} %)</small></small>
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-3 btc-status border" [ngClass] = "stock ? getStockStyle(stock.btc.dp) : ' bg-green'">
      <div class="card btc-status my-2 border-0 bg-transparent">
        <div class="row no-gutters">
          <div class="col-auto">
            <img src="https://img.icons8.com/dotty/64/000000/bitcoin.png"/>
          </div>
          <div class="col">
            <div class="card-block">
              <p class="card-text mb-0 lead"><span class="me-2"><b>Bitcoin</b></span></p>
              <p class="lead mb-0" *ngIf="stock">$ {{ stock.btc.c }}<br />
                <small> {{stock.btc.d}} <small>( {{stock.btc.dp}} %)</small></small>
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-3 eth-status border" [ngClass] = "stock ? getStockStyle(stock.eth.dp) : ' bg-green'">
      <div class="card eth-status my-2 border-0 bg-transparent">
        <div class="row no-gutters">
          <div class="col-auto">
            <img src="https://img.icons8.com/wired/64/000000/ethereum.png"/>
          </div>
          <div class="col">
            <div class="card-block">
              <p class="card-text mb-0 lead"><span class="me-2"><b>Ethereum</b></span></p>
              <p class="lead mb-0" *ngIf="stock">$ {{ stock.eth.c }}<br />
                <small> {{stock.eth.d}} <small>( {{stock.eth.dp}} %)</small></small>
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="fixed-bottom" *ngIf="alerts">
    <div class="row">
      <div class="col-12" *ngFor="let a of alerts">
        <div class="card" [ngClass]="a.level == 'info' ? 'bg-green' : a.level == 'warn' ? 'bg-yellow' : 'bg-red'">
          <div class="card-body py-2">
            <div class="text-center">
              <p class="card-text mb-0 lead"><span class=" mr-2"><b>{{a.msg}}</b></span></p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="fixed-bottom">
    <div class="row">
      <div class="col-12">
        <button type="button" class="btn btn-outline-secondary pull-right me-2 mb-2" (click)="restartMiner()"><i class="fa fa-lg fa-refresh" aria-hidden="true"></i></button>
        <!-- <button type="button" class="btn pull-right me-2 mb-2" [ngClass] = "smartthings && smartthings.fanOn ? 'btn-success' : 'btn-outline-success'"
        (click)="toggleMinorFan()"><i class="fa fa-lg fa-snowflake-o" aria-hidden="true"></i></button>
        <button type="button" class="btn pull-right me-2 mb-2" [ngClass] = "nh && nh.hideAlert ? 'btn-success' : 'btn-outline-success'"
        (click)="toggleHideAlert()"><i class="fa fa-lg fa-ban" aria-hidden="true"></i></button> -->
      </div>
    </div>
  </div>


</div>
